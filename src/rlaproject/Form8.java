package rlaproject;


import java.io.File;
import java.sql.Connection;
import javax.swing.JOptionPane;
import java.sql.PreparedStatement;
import java.text.SimpleDateFormat;
import javax.swing.JFileChooser;
import org.apache.commons.io.FileUtils;
/**
 *
 * @author Avi Kathuria
 */
public class Form8 extends javax.swing.JFrame {

    /** Creates new form Form8 */
    Connection con;
    public Form8() 
    {
        initComponents();
        this.setLocationRelativeTo(null);
         myconnection_class mycon1=new myconnection_class();
        if(mycon1.my_connection_status()==true)
        {
            con=mycon1.get_my_connection();
            //JOptionPane.showMessageDialog(rootPane, "connected");
        }
        else
        {
        JOptionPane.showMessageDialog(rootPane, mycon1.errmsg().toString());
        }
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("checked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jLabel8 = new javax.swing.JLabel();
        jLabel33 = new javax.swing.JLabel();
        c10 = new javax.swing.JCheckBox();
        c7 = new javax.swing.JCheckBox();
        jLabel5 = new javax.swing.JLabel();
        c2 = new javax.swing.JCheckBox();
        jLabel35 = new javax.swing.JLabel();
        jLabel31 = new javax.swing.JLabel();
        c5 = new javax.swing.JCheckBox();
        c3 = new javax.swing.JCheckBox();
        jLabel28 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        c1 = new javax.swing.JCheckBox();
        c6 = new javax.swing.JCheckBox();
        jLabel2 = new javax.swing.JLabel();
        c8 = new javax.swing.JCheckBox();
        jLabel29 = new javax.swing.JLabel();
        jLabel25 = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        c9 = new javax.swing.JCheckBox();
        jLabel1 = new javax.swing.JLabel();
        c4 = new javax.swing.JCheckBox();
        c11 = new javax.swing.JCheckBox();
        c12 = new javax.swing.JCheckBox();
        c13 = new javax.swing.JCheckBox();
        c14 = new javax.swing.JCheckBox();
        clear1 = new javax.swing.JButton();
        submit1 = new javax.swing.JButton();
        t1 = new javax.swing.JTextField();
        t2 = new javax.swing.JTextField();
        t3 = new javax.swing.JTextField();
        t4 = new javax.swing.JTextField();
        t6 = new javax.swing.JTextField();
        t7 = new javax.swing.JTextField();
        t8 = new javax.swing.JTextField();
        t5 = new javax.swing.JTextField();
        certificate = new javax.swing.JButton();
        jButton1 = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Licensing Form");
        setResizable(false);
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jPanel1.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel8.setText(" of motor vehicle to the attached license:-");
        jPanel1.add(jLabel8, new org.netbeans.lib.awtextra.AbsoluteConstraints(21, 199, 318, -1));

        jLabel33.setText("Name of Testing Authority");
        jPanel1.add(jLabel33, new org.netbeans.lib.awtextra.AbsoluteConstraints(32, 603, 167, -1));

        c10.setText(" Motor Vehicles of the following description");
        jPanel1.add(c10, new org.netbeans.lib.awtextra.AbsoluteConstraints(17, 315, -1, -1));

        c7.setText("Heavy Goods Vehicle");
        jPanel1.add(c7, new org.netbeans.lib.awtextra.AbsoluteConstraints(17, 285, -1, -1));

        jLabel5.setText("The Licensing Authority");
        jPanel1.add(jLabel5, new org.netbeans.lib.awtextra.AbsoluteConstraints(86, 108, 150, -1));

        c2.setText("Motor Cycle with gear");
        jPanel1.add(c2, new org.netbeans.lib.awtextra.AbsoluteConstraints(260, 230, -1, -1));

        jLabel35.setText("Designation");
        jPanel1.add(jLabel35, new org.netbeans.lib.awtextra.AbsoluteConstraints(347, 603, 82, -1));

        jLabel31.setText("(here enter description of vehicle) on date");
        jPanel1.add(jLabel31, new org.netbeans.lib.awtextra.AbsoluteConstraints(341, 565, 253, -1));

        c5.setText("Medium Goods Vehicle");
        jPanel1.add(c5, new org.netbeans.lib.awtextra.AbsoluteConstraints(260, 258, -1, -1));

        c3.setText("Invalid Carriages");
        jPanel1.add(c3, new org.netbeans.lib.awtextra.AbsoluteConstraints(553, 231, -1, -1));

        jLabel28.setText("Certificate of test of competence to drive.");
        jPanel1.add(jLabel28, new org.netbeans.lib.awtextra.AbsoluteConstraints(28, 507, 342, 29));

        jLabel4.setText("To");
        jPanel1.add(jLabel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(21, 82, -1, -1));

        c1.setText("Motor Cycle without gear");
        jPanel1.add(c1, new org.netbeans.lib.awtextra.AbsoluteConstraints(17, 231, -1, -1));

        c6.setText(" Medium Passenger Motor Vehicle");
        jPanel1.add(c6, new org.netbeans.lib.awtextra.AbsoluteConstraints(553, 258, -1, -1));

        jLabel2.setText("[See Rule 17(1)]");
        jPanel1.add(jLabel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(370, 30, 111, -1));

        c8.setText("Heavy Passenger Motor Vehicle");
        jPanel1.add(c8, new org.netbeans.lib.awtextra.AbsoluteConstraints(260, 281, -1, -1));

        jLabel29.setText("The applicant has passed/failed in the test specified in rule 15 of the Central motor Vehicle Rules, 1989. The test was conducted on a");
        jPanel1.add(jLabel29, new org.netbeans.lib.awtextra.AbsoluteConstraints(61, 542, 770, -1));

        jLabel25.setText("Paid fees in rupees (Rs)");
        jPanel1.add(jLabel25, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 470, 150, -1));

        jLabel20.setText(" I enclose");
        jPanel1.add(jLabel20, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 354, 63, 26));

        jLabel7.setText(", hereby apply for the addition of the following class/classes");
        jPanel1.add(jLabel7, new org.netbeans.lib.awtextra.AbsoluteConstraints(422, 171, 373, 20));

        jLabel6.setText("I, ");
        jPanel1.add(jLabel6, new org.netbeans.lib.awtextra.AbsoluteConstraints(63, 174, -1, -1));

        jLabel3.setFont(jLabel3.getFont().deriveFont(jLabel3.getFont().getSize()+1f));
        jLabel3.setText("Application for the addition of a new class of vehicle to a driving license");
        jPanel1.add(jLabel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(220, 50, 411, -1));

        c9.setText("Road Roller");
        c9.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                c9ActionPerformed(evt);
            }
        });
        jPanel1.add(c9, new org.netbeans.lib.awtextra.AbsoluteConstraints(553, 285, -1, -1));

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel1.setText("FORM 8");
        jPanel1.add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(390, 10, 49, -1));

        c4.setText("Light Motor Vehicle");
        jPanel1.add(c4, new org.netbeans.lib.awtextra.AbsoluteConstraints(17, 258, -1, -1));

        c11.setText("A Medical Certificate IC Form 1-A");
        c11.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                c11ActionPerformed(evt);
            }
        });
        jPanel1.add(c11, new org.netbeans.lib.awtextra.AbsoluteConstraints(12, 391, -1, -1));

        c12.setText("Learner License in Form 3");
        c12.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                c12ActionPerformed(evt);
            }
        });
        jPanel1.add(c12, new org.netbeans.lib.awtextra.AbsoluteConstraints(391, 391, -1, -1));

        c13.setText("Driving License in Form 6/7.");
        c13.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                c13ActionPerformed(evt);
            }
        });
        jPanel1.add(c13, new org.netbeans.lib.awtextra.AbsoluteConstraints(12, 423, -1, -1));

        c14.setText("Driving Certificate in Form 5 if application is to drive in transport vehicle.");
        c14.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                c14ActionPerformed(evt);
            }
        });
        jPanel1.add(c14, new org.netbeans.lib.awtextra.AbsoluteConstraints(391, 423, -1, -1));

        clear1.setText("Clear");
        clear1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clear1ActionPerformed(evt);
            }
        });
        jPanel1.add(clear1, new org.netbeans.lib.awtextra.AbsoluteConstraints(670, 620, -1, -1));

        submit1.setText("Submit");
        submit1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                submit1ActionPerformed(evt);
            }
        });
        jPanel1.add(submit1, new org.netbeans.lib.awtextra.AbsoluteConstraints(580, 620, -1, -1));
        jPanel1.add(t1, new org.netbeans.lib.awtextra.AbsoluteConstraints(90, 130, 110, 30));

        t2.setText("Mr./Mrs./Ms.");
        jPanel1.add(t2, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 170, 330, 30));
        jPanel1.add(t3, new org.netbeans.lib.awtextra.AbsoluteConstraints(290, 310, 380, 30));
        jPanel1.add(t4, new org.netbeans.lib.awtextra.AbsoluteConstraints(200, 470, 180, -1));
        jPanel1.add(t6, new org.netbeans.lib.awtextra.AbsoluteConstraints(580, 560, 130, 30));
        jPanel1.add(t7, new org.netbeans.lib.awtextra.AbsoluteConstraints(200, 600, 130, -1));
        jPanel1.add(t8, new org.netbeans.lib.awtextra.AbsoluteConstraints(420, 600, 130, -1));
        jPanel1.add(t5, new org.netbeans.lib.awtextra.AbsoluteConstraints(60, 560, 260, -1));

        certificate.setText("File Upload");
        certificate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                certificateActionPerformed(evt);
            }
        });
        jPanel1.add(certificate, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 353, -1, -1));

        jButton1.setText("Back");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        jPanel1.add(jButton1, new org.netbeans.lib.awtextra.AbsoluteConstraints(750, 620, -1, -1));

        getContentPane().add(jPanel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 840, -1));

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void c9ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_c9ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_c9ActionPerformed

    private void c11ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_c11ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_c11ActionPerformed

    private void c12ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_c12ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_c12ActionPerformed

    private void c13ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_c13ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_c13ActionPerformed

    private void c14ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_c14ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_c14ActionPerformed

    private void clear1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clear1ActionPerformed
       t1.setText("");
         t2.setText("");
           if(c1.isSelected())
            { 
              c1.setSelected(false);
            }
           if(c2.isSelected())
            { 
              c2.setSelected(false);
            }
           if(c3.isSelected())
            { 
              c3.setSelected(false);
            }
           if(c4.isSelected())
            { 
              c4.setSelected(false);
            }
           if(c5.isSelected())
            { 
              c5.setSelected(false);
            }
           if(c6.isSelected())
            { 
              c6.setSelected(false);
            }
           if(c7.isSelected())
            { 
              c7.setSelected(false);
            }
           if(c8.isSelected())
            { 
              c8.setSelected(false);
            }
           if(c9.isSelected())
            { 
              c9.setSelected(false);
            }
           if(c10.isSelected())
            { 
              c10.setSelected(false);
            }
           if(c11.isSelected())
            { 
              c11.setSelected(false);
            }
            if(c12.isSelected())
            { 
              c12.setSelected(false);
            }
            if(c13.isSelected())
            { 
              c13.setSelected(false);
            }
            if(c14.isSelected())
            { 
              c14.setSelected(false);
            }
            
            t4.setText("");
            t5.setText("");
            t6.setText("");
            t7.setText("");
            t8.setText("");          
           
    }//GEN-LAST:event_clear1ActionPerformed

    private void submit1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_submit1ActionPerformed
        try
        {            
           int d1_len=t1.getText().length();
            int d2_len=t2.getText().length();
            int d3_len=t4.getText().length();
            int d4_len=t5.getText().length();
            int d5_len=t6.getText().length();
            int d6_len=t7.getText().length();
            int d7_len=t8.getText().length();
            if(d1_len==0 || d2_len==0 || d3_len==0 || d4_len==0 || d5_len==0 || d6_len==0 || d7_len==0)
            {
                JOptionPane.showMessageDialog(rootPane, "Please Fill Required Fields to Submit the Form");
                if(d1_len==0)
                {
                JOptionPane.showMessageDialog(rootPane, "Please insert Authority Name ");
                } 
                else if(d2_len==0)
                {
                JOptionPane.showMessageDialog(rootPane, "Please insert Name");
                } 
                else  if(d3_len==0)
                {
                JOptionPane.showMessageDialog(rootPane, "Please insert Fees");
                } 
                else if(d4_len==0)
                {
                JOptionPane.showMessageDialog(rootPane, "Please insert Vehicle Description");
                }  
                else if(d5_len==0)
                {
                JOptionPane.showMessageDialog(rootPane, "Please insert Date");
                }  
                else if(d6_len==0)
                {
                JOptionPane.showMessageDialog(rootPane, "Please insert Name of Testing Authority");
                }  
                else if(d7_len==0)
                {
                JOptionPane.showMessageDialog(rootPane, "Please insert Designation of Testing Authority");
                } 
            }
            else
            {    
            int res=JOptionPane.showConfirmDialog(null,"Want to Submit Form","Info",JOptionPane.OK_OPTION,JOptionPane.INFORMATION_MESSAGE);
            if(res==JOptionPane.OK_OPTION)
            {
                 PreparedStatement pstmt=con.prepareStatement("insert into Form8 values(?,?,?,?,?,?,?,?,?,?,?)");
            pstmt.setString(1,(t1.getText()));
            pstmt.setString(2,(t2.getText()));
             String checkbox_value="";
          if(c1.isSelected()){checkbox_value =c1.getText();}
           if(c2.isSelected()){if(!checkbox_value.equals("")) checkbox_value +=","; checkbox_value +=c2.getText();}
            if(c3.isSelected()){if(!checkbox_value.equals("")) checkbox_value +=","; checkbox_value +=c3.getText();}
             if(c4.isSelected()){if(!checkbox_value.equals("")) checkbox_value +=","; checkbox_value +=c4.getText();}
              if(c5.isSelected()){if(!checkbox_value.equals("")) checkbox_value +=","; checkbox_value +=c5.getText();}
               if(c6.isSelected()){if(!checkbox_value.equals("")) checkbox_value +=","; checkbox_value +=c6.getText();}
                if(c7.isSelected()){if(!checkbox_value.equals("")) checkbox_value +=","; checkbox_value +=c7.getText();}
                 if(c8.isSelected()){if(!checkbox_value.equals("")) checkbox_value +=","; checkbox_value +=c8.getText();}
                  if(c9.isSelected()){if(!checkbox_value.equals("")) checkbox_value +=","; checkbox_value +=c9.getText();}
                   if(c10.isSelected()){if(!checkbox_value.equals("")) checkbox_value +=","; checkbox_value +=t3.getText();}
            pstmt.setString(3,checkbox_value);
            
            String enclose="";
            if(c11.isSelected()){enclose =c11.getText();}
             if(c12.isSelected()){if(!enclose.equals("")) enclose +=","; enclose +=c12.getText();}
              if(c13.isSelected()){if(!enclose.equals("")) enclose +=","; enclose +=c13.getText();}
               if(c14.isSelected()){if(!enclose.equals("")) enclose +=","; enclose +=c14.getText();}
            pstmt.setString(4,enclose);    
            pstmt.setString(5,(f2.getPath())); 
            pstmt.setInt(6,Integer.parseInt(t4.getText()));
            pstmt.setString(7,(t5.getText()));
            pstmt.setString(8,(t6.getText()));
            pstmt.setString(9,(t7.getText()));
            pstmt.setString(10,(t8.getText()));
            java.util.Date d1=new java.util.Date();
            String newdate=new SimpleDateFormat("dd/MM/yyyy").format(d1);
            pstmt.setString(11,newdate); 
             pstmt.executeUpdate();
                FileUtils.copyFileToDirectory(f1, f2);
                new main().setVisible(true);
                dispose();
            }
          }  
        }
            catch(Exception ob)
        {
            System.out.println(ob.toString());
            JOptionPane.showMessageDialog(rootPane, "Please Upload Required File/Numeric Amount in the Form");
        }
    }//GEN-LAST:event_submit1ActionPerformed
    File f1,f2;
    private void certificateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_certificateActionPerformed
        JFileChooser JFC = new JFileChooser();

        if( JFC.showOpenDialog(null)==0)
        {

            f1=new File(JFC.getSelectedFile().toString());
            f2=new File("C:\\rlaproject\\Uploaded_Files");
        }

    }//GEN-LAST:event_certificateActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
             
        new main().setVisible(true);
        dispose();
    }//GEN-LAST:event_jButton1ActionPerformed

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
      
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Form8.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Form8.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Form8.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Form8.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Form8().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JCheckBox c1;
    private javax.swing.JCheckBox c10;
    private javax.swing.JCheckBox c11;
    private javax.swing.JCheckBox c12;
    private javax.swing.JCheckBox c13;
    private javax.swing.JCheckBox c14;
    private javax.swing.JCheckBox c2;
    private javax.swing.JCheckBox c3;
    private javax.swing.JCheckBox c4;
    private javax.swing.JCheckBox c5;
    private javax.swing.JCheckBox c6;
    private javax.swing.JCheckBox c7;
    private javax.swing.JCheckBox c8;
    private javax.swing.JCheckBox c9;
    private javax.swing.JButton certificate;
    private javax.swing.JButton clear1;
    private javax.swing.JButton jButton1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JButton submit1;
    private javax.swing.JTextField t1;
    private javax.swing.JTextField t2;
    private javax.swing.JTextField t3;
    private javax.swing.JTextField t4;
    private javax.swing.JTextField t5;
    private javax.swing.JTextField t6;
    private javax.swing.JTextField t7;
    private javax.swing.JTextField t8;
    // End of variables declaration//GEN-END:variables

}
